# bulletin_board

Объявления добавляются в админке.
Список объявлений можно посмотреть на странице board
Есть автотесты

Мини-проект сделан без дополнительных библиотек, для вашего удобства и экономия моего времени.
Помимо кода пожно найти "TODO" по улучшению некоторых моментов

Работа счетчиков

Есть 2 таблицы со счетчиками (CounterReviewRegisteredUser, CounterReviewUser)
В одной хранятся кол-во просмотров для каждого объявления, зарегистрированных пользователей
В другой кол-во незарегистрированных + зарегистрированных

При создании объявления мы резервируем место в таблицах выше (счетчик=0)

Есть 2 таблицы для хранения пользователей и ip которые просмотрели объявление (AdReviewRegisteredUser, AdReviewUser)
в первой хранится user_id
во второй ip + user_id (если пользователь зареган) так можно примерно увидеть уникальные просмотры ip
данный алгоритм не точен, так как ip динамические уже давно, и прокси никто не отменял. Можно использовать другие способы,
но точный я не знаю, любой из способов можно обойти. Для большей точности надо придумывать более хитрые алгоритмы.

Так можно минимизировать кол-во запросов на обновление и select тоже будут очень быстрыми.
Если кол-во объявлений будет исчислятся миллионами можно данные партицировать.

Моменты которые можно закешировать помечены "TODO" сам я не стал это реализовывать, но такой способ скушает много памяти
Для высокой производительности лучше все таблицы кроме Ad (объявления) поместить в Redis
с возможностью скидывать данные на диск. Так как данные вторичны такой способ очень хорош, и не надо что то кэшировать.
